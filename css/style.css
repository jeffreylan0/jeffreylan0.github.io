/* FIX 1: These rules prevent scrolling and zooming on the entire page, critical for a mobile-first app experience. */
html {
    position: fixed;
    height: 100%;
    width: 100%;
    overflow: hidden;
}

body {
    font-family: 'Inter', sans-serif;
    height: 100vh; /* Full viewport height */
    width: 100vw;  /* Full viewport width */
    overflow: hidden; /* Extra insurance against scrolling */
    touch-action: none; /* Disables pinch-zoom and panning gestures on the body */
}

/* Canvas container setup */
.canvas-container {
    width: 100% !important;
    height: 100% !important;
}
canvas {
    display: block;
    width: 100%;
    height: 100%;
}

/* Control Bar Styles */
.control-bar {
    @apply absolute top-4 left-1/2 -translate-x-1/2;
    @apply z-10 flex items-center justify-center space-x-2;
    @apply bg-stone-100 p-2 rounded-full;
    @apply border border-stone-200;
    /* FIX 3: Start hidden and slightly up, ready for the pop-down animation. */
    opacity: 0;
    transform: translateY(-20px) translateX(-50%);
    transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
    pointer-events: none; /* Cannot be clicked when invisible */
}

.control-bar.visible {
    opacity: 1;
    transform: translateY(0) translateX(-50%); /* Animate to final position */
    pointer-events: auto;
}

.control-button {
    @apply w-10 h-10 flex items-center justify-center;
    @apply bg-stone-700 text-stone-200 rounded-full;
    @apply transition-all duration-200 ease-in-out;
    @apply hover:bg-stone-900 disabled:bg-stone-400 disabled:cursor-not-allowed;
}

.control-button.submit-button {
    @apply bg-blue-600 hover:bg-blue-700;
}

.control-divider {
    @apply w-px h-6 bg-stone-300 mx-1;
}

/* Modal Styles (Unchanged but included for completeness) */
.modal-backdrop {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4;
    @apply transition-opacity duration-300;
}
.modal-content, .modal-content-large {
    @apply bg-white rounded-lg shadow-xl p-6 w-full text-center;
    @apply transition-transform duration-300 scale-95;
}
.modal-content { @apply max-w-sm; }
.modal-content-large { @apply max-w-md; }
.modal-backdrop:not(.hidden) .modal-content,
.modal-backdrop:not(.hidden) .modal-content-large {
    @apply scale-100;
}
.modal-title { @apply text-lg font-medium mb-2; }
.modal-text { @apply text-stone-600 mb-6; }
.modal-actions { @apply flex justify-center space-x-4; }
.modal-button-primary { @apply px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors; }
.modal-button-secondary { @apply px-6 py-2 bg-stone-200 rounded-md hover:bg-stone-300 transition-colors; }
.modal-button-danger { @apply px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors; }