/* Base layout and scroll prevention */
html {
    position: fixed;
    height: 100%;
    width: 100%;
    overflow: hidden;
}

body {
    font-family: 'Inter', sans-serif;
    height: 100vh;
    width: 100vw;
    overflow: hidden;
    touch-action: none;
}

/* Canvas container setup */
.canvas-container {
    width: 100% !important;
    height: 100% !important;
}
canvas {
    display: block;
    width: 100%;
    height: 100%;
}

/* Control Bar: Off-white rectangle with rounded corners */
.control-bar {
    @apply absolute top-4 left-1/2; /* Position at top-center */
    @apply z-10 flex items-center justify-center space-x-2; /* Flexbox layout */
    @apply bg-stone-100 p-2 rounded-lg; /* Off-white, padded, rounded corners */
    @apply border border-stone-200;
    
    /*
     * FIX: Use `visibility: hidden` to completely remove the element from interaction when hidden.
     * This prevents the "invisible bar" from blocking mouse/touch events.
     * `opacity: 0` just makes it transparent, but it's still "there". `visibility: hidden` truly hides it.
    */
    visibility: hidden;
    opacity: 0;
    transform: translateY(-150%) translateX(-50%);
    /* The transition for visibility is delayed to happen only after the fade-out is complete. */
    transition: opacity 0.3s ease-out, transform 0.3s ease-out, visibility 0s linear 0.3s;
    pointer-events: none;
}

.control-bar.visible {
    visibility: visible;
    opacity: 1;
    transform: translateY(0) translateX(-50%);
    /* The transition for visibility is immediate when becoming visible. */
    transition: opacity 0.3s ease-out, transform 0.3s ease-out;
    pointer-events: auto;
}

/* Default Control Buttons: Dark grey circles with off-white icons */
.control-button {
    @apply w-11 h-11 flex items-center justify-center; /* Sizing */
    @apply bg-stone-800 rounded-full; /* Dark grey circle */
    @apply text-stone-100; /* Off-white icon color */
    @apply transition-all duration-200 ease-in-out;
    @apply hover:bg-stone-900 disabled:bg-stone-500 disabled:cursor-not-allowed;
}

/* Submit Button Override: White circle with dark grey icon */
.control-button.submit-button {
    @apply bg-white; /* Pure white circle */
    @apply text-stone-800; /* Dark grey icon color */
    @apply border border-stone-200; /* Subtle border */
    @apply hover:bg-stone-200; /* Slightly darker on hover */
}

.control-divider {
    @apply w-px h-6 bg-stone-300;
}

/* Modal Styles (Unchanged) */
.modal-backdrop { @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4; }
.modal-content, .modal-content-large { @apply bg-white rounded-lg shadow-xl p-6 w-full text-center; }
.modal-content { @apply max-w-sm; }
.modal-content-large { @apply max-w-md; }
.modal-title { @apply text-lg font-medium mb-2; }
.modal-text { @apply text-stone-600 mb-6; }
.modal-actions { @apply flex justify-center space-x-4; }
.modal-button-primary { @apply px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700; }
.modal-button-secondary { @apply px-6 py-2 bg-stone-200 rounded-md hover:bg-stone-300; }
.modal-button-danger { @apply px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700; }
